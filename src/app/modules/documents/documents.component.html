<mat-divider></mat-divider>
<div fxLayout="column" fxLayoutAlign="space-evenly stretch">
  <div fxLayoutAlign="center" fxLayoutGap="3px">
    <mat-form-field fxFlexAlign="center" appearance="fill">
      <mat-label>Category</mat-label>
      <mat-select>
        <mat-option value="hurricane">Hurricane</mat-option>
        <mat-option value="earthquake">Earthquake</mat-option>
        <mat-option value="energy">Energy</mat-option>
        <mat-option value="flood">Flood</mat-option>
      </mat-select>
    </mat-form-field>
    <app-search fxFlex="70" hint= "false"
                (typed)="documentsTableComponent.searchEvent($event);
                 documentsTableComponent.show = true; documentsTableComponent.applyFilter()"
                (empty)="documentsTableComponent.searchEvent($event); documentsTableComponent.applyFilter()">

    </app-search>
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start stretch" fxLayoutGap="5px">
  <div fxFlex="10">
    <mat-form-field class="side">
      <mat-label>Enter publication date</mat-label>
      <input matInput [matDatepicker]="picker"
             (dateChange)="checkEvent($event); documentsTableComponent.selectionEvent($event.value, 'publication_date');
              documentsTableComponent.applyFilter()" [formControl]="date" value=null
      >
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="side">
      <mat-label>Enter incident date</mat-label>
      <input matInput [matDatepicker]="picker2"
             (dateChange)="checkEvent($event); documentsTableComponent.selectionEvent($event.value.format('Y-MM-DD'), 'incident_date');
              documentsTableComponent.applyFilter()" [formControl]="date"
      >
      <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>
    <!--<mat-form-field class="side">
      <mat-label>Locations</mat-label>
      <mat-select [formControl]="formControl" multiple (selectionChange)="documentsTableComponent.selectionEvent($event.value, 'location');
      documentsTableComponent.applyFilter()">
        <mat-option *ngFor="let location of locationList" [value]="location">{{location}}</mat-option>
      </mat-select>
    </mat-form-field>-->
    <mat-form-field class="side">
      <mat-label>Infrastructure</mat-label>
      <mat-select [formControl]="formControl" multiple (selectionChange)="documentsTableComponent.selectionEvent($event.value, 'infrastructure_type');
      documentsTableComponent.applyFilter()">
        <mat-option *ngFor="let structure of structureList" [value]="structure">{{structure}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="side">
      <mat-label>Damages</mat-label>
      <mat-select [formControl]="formControl" multiple (selectionChange)="documentsTableComponent.selectionEvent($event.value, 'damage_type');
      documentsTableComponent.applyFilter()">
        <mat-option *ngFor="let dmg of dmgList" [value]="dmg">{{dmg}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="side">
      <mat-label>Language</mat-label>
      <mat-select [formControl]="formControl" multiple (selectionChange)="documentsTableComponent.selectionEvent($event.value, 'language');
      documentsTableComponent.applyFilter()">
        <mat-option *ngFor="let language of languageList" [value]="language">{{language}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="side">
      <mat-label>Tags</mat-label>
      <mat-select [formControl]="formControl" multiple (selectionChange)="documentsTableComponent.selectionEvent($event.value, 'tag');
      documentsTableComponent.applyFilter()">
        <mat-option *ngFor="let tag of tagList" [value]="tag">{{tag}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <mat-divider [vertical]="true" fxFlex="1" style="height: 500px"></mat-divider>
  <app-documents-table show="true" fxFlex="80" #documentsTableComponent></app-documents-table>
</div>
